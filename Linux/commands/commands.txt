Справка
man ls - справка по команде ls
man -k postgres справка по базе данных или любое другое ключевое слово
info - тоже справка
ls --help выводит справку по команде ls
/usr/share/doc - находится вся документация

halt - выключение компьютера
poweroff - выключение компьютера
reboot - перезагрузка
wvdial killall - выключение модема
wvdial - включение модема

mc - это Нортон Командер для Linux - поиск файлов, права, редактирование и пр.
vi - редактор (где - esc - :q! выход без сохранения, :wq! - выход с сохранением)
gedit -редактор - набрать в консоле gedit /etc/squid/squid.conf
su admin
sudo su

ps aux | grep squid - покажет процесс squid

apt-get install iptraf
apt-cashe search font
apt-cashe search games
df - покажет объем занятого и свободного пространства
lsusb покажет устройства usb

Таблица соответствий жестких дисков в линукс, где X число от 0 до 9.
/dev/hdaX - master IDE1
/dev/hdbX -    slave IDE1
/dev/hdcX - master IDE2
/dev/hddX -    slave IDE1

Автозапуск
/etc/init.d/postgres

Автомонтирование устройств.
Нужно добавть соответствующую запись в /etc/fstab
/dev/hdc0 mnt/c vfat auto. user. 0.0. - смонтирует при загрузке виндовс раздел в директорию mnt/c

Монтирование устройств, директории /mnt/cdrom и др. должны быть созданы
mount /mnt/cdrom
mount /mnt/floppy
или
mount -t ext3 /dev/hda1 /mnt/mydir
mount /dev/sda1 -t vfat /mnt/usb
mount -t nfs 192.168.1.5:/mtn/dir /mnt/mydir
более продробно см.:
man mount
Размонтирование аналогично
unmount /mnt/cdrom
unmount -a размонтирует все кроме файловой системы

Копирование HDD
cp -rp / /mnt/hdc1/
cp -rp /mnt/hda1/ /mnt/hdc1/

Postgres
su postgres вход в базу
psql dbname < infile это когда нужно скопировать резервную копию в базу
dropdb dbname удалить базу
createdb dbname создать базу
dropuser username удалить юзера
createuser username создать юзера
Сети
iptables -L выводит таблицу маршрутизации
ipconfig /all
ifconfig +n
netstat -nr -win
/etc/resolv.cont

Настройка Шлюза Интернет для нескольких компьютеров в офисе
iptables -t nat -A POSTROUTING -s 192.168.1.5 -j MASQUERADE
iptables -t nat -nvl
vi /etc/resolv.conf
nmap -PO 192.168.1.1-254
iptables -t nat -A POSTROUTING -s 192.168.1.5/32 -j MASQUERADE
iptables -t nat -D POSTROUTING 11
nmap -sT 192.168.1.1-254 -p139
nmap -PO 192.168.1.1-254

===========
/etc/init.d/apache/
/etc/init.d/iptables.sh

Web Server Apache
http.conf файл конфигурации apache

Samba - конфигурация
security=share
brouseble=yes

Cups настройка сетевого принтера на сервере
gedit /etc/cups/cupsd.conf
Исправить строку:
# Listen localhost:631 на стоку Listen 631
В секцию <Location />
добавить Allow 192.168.1. 100
перед строкой Allow @LOCAL
На клиенской машине прописать путь к принтеру ipp://192.168.1.100:631/printers/LaserJet-1010



login запрос от пользователя имени и пароля (запрос от системы к пользователю) для входа в систему( по умолчанию, при наборе пароля, он не отображается).
logout выход из текущего сеанса оболочки.
startx команда для запуска графического интерфейса X Window (не путайте с системой Windows.Не бойтесь. Это не она:)).
shutdown останавливает систему и предотвращает повреждение файловой системы при этом, но,используется только при работе в консольном режиме.При работе в режиме X Window, не используйте.
halt быстрое и корректное выключение системы.
poweroff корректное выключение системы.
reboot корректное выключение с последущей загрузкой.Перезагрузка.
vmstat выдаёт сведения о процессах, памяти и загруженности центрального процессора.
su вход в сеанс администратора, но прийдётся ввести пароль.Для выхода из этого сеанса наберите exit и нажмите ENTER.
apropos поиск строки в заголовках и названиях документации ( дополнительно вводится слово для поиска). Выдаёт список всего найденного.
cal форматированный календарь на текущий месяц ( добавить y и будет календарь на весь текущий год).
date отображает текущие дату и время, по системным часам ядра.
oclock простые часы, которые висят на рабочем столе (много дополнительных параметров).
finger отображение информации о пользователе, имя которого указано в команде.
hostname команда отображает идентификатор данного узла сети ( его имя). root может изменить имя узла на новое.
hwclock встроенные часы Вашего компьютера.Для изменения даты и времени и синхронизации с системными часами, необходимы привелегии root.
pwd отображает полный путь к текущему каталогу.
tzselect запуск утилиты, которая позволяет выбрать часовой пояс.
uname выводит информацию об используемой операционной системе (при вводе дополнительных параметров команды , выдаёт довольно много информации).
uptime показывает текущее время, продолжительность сеанса , количество пользователей и загруженность процессора.
users отображает краткий список пользователей работающих в системе в данный момент.
w подробная информация о всех пользователях, работающих в данный момент и также простой, вход в систему и др.Если нужен один пользователь, то указать имя в параметре.
whatis поиск по базе данных страниц руководства и отображение краткого описания.
who список пользователей работающих в системе в данный момент.
whereiz находит файлы, страницы справочного руководства для указанной команды.
which показывает полный путь к исполняемому файлу команды.
whoami показывает текущий идентификатор пользователя, работающего в данном терминале.
write отправляет сообщение другому пользователю, находящемуся в системе, путём копирования строк с терминала отправителя на терминал получателя.
wall отправляет сообщение на терминал каждого пользователя находящегося в системе в данный момент.
history показывает пронумерованный список команд, которые Вы выполняли в этом и предыдущем сеансе. Если в списке историии их довольно много, то увидите последние.
jobs выводит список всех выполняемых и приостановленных задач.
kill завершить процесс (необходимо указать какой).
killall позволят управлять процессами используя их имена или имена файлов, а не идентификаторы как в kill. Завершаются все указанные процессы.
kernelversion показывает основную и дополнительную версии ядра.
nice позволяет отобразить или настроить приоритет задачи.
ps выводит список всех работающих процессов.
pstree показывает иерархию процессов системы, что хорошо показывает их взаимозависимость.
renice задаёт приоритет для указанной задачи.
script позволяет записывать весь вывод с терминала в файл.Что бы остановить запись нажмите Ctrl+d.Если имя файла не указано то записывается в typescript.
times показывает полное время выполнения процессов для всей системы и данного пользователя.
top запускает программу , которая позволяет управлять процессами.И ещё много дополнительной, полезной информации.
cd смена текущего каталога.По умолчанию переходит в домашний каталог текущего пользователя (если без параметров).
dir отображает файлы в текущем каталоге в алфавитном порядке и с учётом регистра.
file показывает тип содержимого указанного файла(текст, выполняемый, данные).
find поиск файлов в текущем каталоге.Если указать путь, можно искать везде.
free отображает информацию об оперативной памяти, подкачки, кэше,свободная памать, общая и т.д.
ls показывает все файлы в текущем каталоге в алфавитном порядке.Аналогична dir.
last показывает список пользователей, которые заходили в систему с момента создания файла /var/log/wtmp.
lastlog проверяет историю входа в систему зарегистрированных пользователей.Форматирует и выводит на печать файл /var/log/lastlog.
logger посылает запрос демону syslogd с просьбой поместить сообщение в системный журнал.
lpr отправляет документ на печать демону печати.
chmod изменяет режим доступа к файлу.Символьный или числовой формат.
chown смена владельца указанного файла.Требуется доступ root.
chage применяется для изменения срока действия учетной записи.Для администрирования.
chfn изменяет сведения о пользователе в файле /etc/passwd из которого берёт информацию команда finger .
chgrp команда для администратора,для изменения группы владельцев файла.
clear очищает экран терминала (если это возможно).
crontab обеспечивает возможность выполнения определённых задач по расписанию. Чаще используется администратором, хотя свои задачи могут быть и у пользователей.
csplit разбивает файл на несколько частей.Надо задать метод разбивки (строки и т.д.).
cp копирует один файл в другой, или несколько файлов в каталог.
dd копирование файла с одновременным выполнением различных, дополнительных преобразований.
dc калькулятор.
debugfs применяется для восстановления файловой системы (ext2,ext3) если недостаточно команды fsck.
df показывает количество используемого и свободного дискового пространства для всех подключенных разделов файловой системы.
du показывает количество блоков диска, занятых каждым из файлов каталога.
mc запускает программу Midnight Commander диспетчер файлов в текстовой консоли. Напоминает MSDOS менеджеры и довольно проста и удобна в использовании.Очень много нужных и удобных функций.
mkdir создание указанного каталога.
man справочное руководство.
mcat копирует необработанные данные на дискету.
mcopy использует отформатированную дискету MSDOS для копирования файлов в Линукс и из Линукс без предварительного подключения дискеты к файловой системе.
mdel удаляет файл на отформатированной дискете MSDOS.
mdir отображает содержимое каталога на дискете MSDOS.
mdu показывает дисковое пространство занятое каталогом MSDOS.
mesg контролирует доступ к Вашему терминалу, что бы коллеги не могли засыпать Вас сообщениями с помощью команды write
mformat создаёт на дискете файловую систему MSDOS.
mkbootdisk применяется в некоторых дистрибутивах, для создания загрузочной дискеты, содержащей всё необходимое для аварийной загрузки.
mktemp создаёт уникальное имя файла для временной работы.
mlabel создаёт метку тома на MSDOS на отформатированной дискете.
mmd создаёт подкаталог MSDOS на отформатированной дискете.
mmount подключает к файловой системе отформатированное устройство MSDOS.
mmove перемещает или переименовывает файл на дискете MSDOS.
more средство постраничного просмотра текстового файла.
mv переименовывает или перемещает файлы или каталоги.
rm удаление указанного файла.Можно и много удалить.
rmdir удаление указанного пустого каталога.
safedelete удалиние указанного файла в каталог safedelete,где он хранится некоторое время перед необратимым удалением.
stat отображение всей доступной информации об указанном файле.
touch изменяет время последнего доступа или изменения файла на текущее время.
undelete восстанавливает файлы удалённые командой safedelete.
wc показывает число строк, слов и символов в файле.
bunzip2 распаковывает указанный файл на 30%быстрей чем gzip.
bzip2 сжимает указанный файл по ускоренному алгоритму.
bzip2recover делает попытку восстановить данные из повреждённого файла сжатого bzip2.
compress сжимает указанный файл по другому алгоритму.
uncompress распаковывает файл сжатый предыдущей командой.
cpio позволяет создавать архивы и извлекать из архивов файлы.Позволяет копировать файлы. Необходимо указывать соответствующие параметры.
gpg позволяет зашифровать и расшифровать файл.Метод шифрования открытым ключом. Позволяет создавать электронные подписи.Если этой программы нет у Вас, скачайте http://www.gnupg.org
gzip сжимает указанный файл.
gunzip распаковывает указанный файл (расширения .Z,.gz,.tgz,.zip ).
gzexe позволяет сжать исполняемый файл с указанным именем так, что бы он автоматически распаковывался и выполнялся, когда пользователь даёт команду на выполнение сжатого файла.
gpasswd устанавливает пароль группы.
mcrypt Шифрует указанный файл.Создаётся новый файл в рабочем каталоге с расширением .enc. Вам будет предложено ввести пароль.Не забудьте его.
mdecrypt расшифровывает это же файл.Если этих утилит нет, скачайте http://mcrypt/hellug.grl
tar помещает два и более файлов в новый или существующий архив или извлекает их из архива.При задании каталога, заархивирует все файлы в каталоге и подкаталоге.
talk позволяет вести интерактивный диалог с пользователем сети ИНТЕРНЕТ.
tee отсылет выходные данные на два устройства вывода.Можно одновременно вывести на экран и в файл.
toe выдаёт сведения о существующих терминалах, которые могут быть использованы для дальнейшей работы.
touch изменяет время создания файла на текущее.Если файл не существует, то создаёт новый, пустой файл.
unarj распаковывает или выводит список содержимого указанного архива в формате .ARJ(формат сжатия MS DOS).
unzip распаковывает и извлекает файлы из архивов , созданных утилитами ZIP ( Linux,MS DOS,Microsoft Windows ).
zip архивирует и сжимает файлы.
zipinfo отображает информацию о содержимом архива.Если указать имя, то выдаст информацию о конкретном файле.
zipnote позволяет вывести и отредактировать комментарии к файлам из архива ZIP.
zipsplit позволяет разделить архив zip на достаточно маленькие части, для записи их на сменные носители, и записывает файлы на указанное устройство(дискеты).
zforce добавляет расширение .gz ко всем файлам в рабочем каталоге, или к указанному файлу, которые были сжаты, но не имеют расширения.Т.е. предотвращает повторное сжатие.
uuencode кодирует двоичный файл для передачи по ASC11сетям.
uudecode декодирует выше названный файл.
autorun автоматически распознаёт все доступные приводы CDROM в системе, монтирует их при вставке диска и может запускать отдельные приложения (например проигрыватель).Для использования, необходимо добавить параметры в файл привода.
badblocks проверить указанное устройство на наличие повреждённых секторов (указать устройство).
eject извлекает носитель из указанного устройства.Если устройство смонтировано то команда производит размонтирование перед извлечением носителя.
e2fsck проверяет и при необходимости восстанавливает повреждённый том файловой системы (ext2,ext3).
echo выводит строку текста на стандартное устройство вывода.
fdformat форматирование гибкого диска.Дополнительно вводится имя устройства и необходимый вид форматирования.
fg переводит процесс выполняемый в фоновом режиме в приоритетный режим.
fgconsole показывает количество активных виртуальных консолей.
fsck проверяет и восстанавливает файловую систему.
mount монтирование файловой системы.
umount отмонтирование файловой системы (в обоих командах необходимо указать, что именно).
rdev при вызове без параметров выводит информацию о текущей файловой системе.
rcp применяется для копирования файлов с одного компьютера на другой.
rdate получает значение даты и времени от другого узла сети.Используется для синхронизации системного времени узлов.
rename переименовывает файлы.Очень удобно, когда много файлов.
resize изменяет размер окна виртуального терминала в графическом окружении.
restore восстанавливает файлы заархивированные с помощью команды dump.
runlevel отображает текущий и предыдущий уровни выполнения.
shred выполняет безопасное удаление файла предварительно перезаписав его содержимое на другой диск.
sleep приостанавливает начало выполнения процесса на заданное количество секунд.
usleep приостанавливает на микросекунды.
sync очищает буферы файловой системы.
cmp производит быстрое сравнение двух указанных файлов.Если они идентичны, то никакие сообщения не выводятся.
column форматирует входной текст из указанного файла в список из пяти колонок.
diff сравнивает два указанных текстовых файла.Каждое отличие выводится в контексте. Позволяет сравнивать каталоги.
diff3 сравнивает три указанных файла и выводит результаты.
enscript преобразует указанный текстовый файл в формат Post Script.Вывод может быть направлен на печать или записан в файл.
fmt данная утилита производит форматирование каждой строки в указанном файле таким образом, что все строки имеют одинаковую ширину.
head утилита выводит первые десять строк файла.Можно и несколько файлов.
ispell запуск интерактивной утилиты для проверки орфографии в указанном файле.
id отображает действующие значения идентификаторов пользователя и группы для текущего пользователя.
ifconfig отображает состояние текущей конфигурации сети или настраивает сетевой интерфейс.
less отображает содержимое указанного файла на экране и позволяет удобно просмотреть.
nl команда нумерует строки в указанном файле.
paste обьединяет соответствующие строки файлов в колонки.При желании можно обьединить несколько файлов.
pdf2ps преобразует файл формата PDF в Post Script.Результат записывает на диск.
pdftotext преобразует файл из формата PDF в текст и записывает результат на диск.
pr подготавливает текст к печати, осуществляя форматирование с разбиением на страницы.Можно подготовить несколько файлов.
sort команда позволяет отсортировать строки файла в алфавитном порядке.
split разбивает файл на части.
zcat;zmore выводит содержимое файла сжатого gzip на экран без распаковки.
zcmp сравнивает сжатые gzip два файла без распаковки.
zdiff сравнивает сжатые gzip два файла без распаковки.
zegrep;zfgrep;zgrep осуществляют поиск указанной строки, выражения в файле сжатом gzip, без распаковки.
aumix запускает в интерактивном режиме утилиту, которая управляет различными настройками звуковой карты.
cdda2wav утилита предназначена для записи звуковых дорожек с аудиокомпакт диска в файлы формата WAV.Если имя файла не указано, то запись идёт в файл audio.wav в текущем каталоге.
cdlabelgen команда предназначена для подготовки обложек к коробкам компакт дисков. Результат в файле формата Post Script.Требуется наличие интерпретатора языка Perl не ниже 5.003 версии.
cdp запуск проигрывателя аудиокомпакт дисков в текстовом режиме.
cdparanoia считывает звуковые дорожки с аудиокомпактов и записывает в файлы WAV,AIFF,RAW.
combine обьединяет два и более графических файла в один.Огромное количество спецэффектов.Является частью пакета Image Magick и можно взять http://www.imagemagick.org
convert преобразует указанный входной графический файл, в выходной.Распознаёт множество форматов. Скачать так же как и предидущую.
identify определяет формат и характеристики графического файла и проверяет целостность и наличие ошибок.
mogrify преобразует графический файл и перезаписывает исходный.
montage преобразование нескольких файлов в обьединённое изображение.Скачать http://www.imagemagick.org
mpg123 воспроизводит на основном устройстве воспроизведения аудио файл в формате MP3. Вписывается имя файла или его адрес в Интернет.Чтобы остановить воспроизведение Ctrl+c.Что бы остановить и выйти из программы Ctrl+c нажать дважды.
play воспроизводит звуковой файл с указанным именем.Автоматически распознаёт тип файла. Позволяет добавлять различные звуковые эффекты к воспроизводимым файлам.
playmidi воспроизводит зуковые файлы в формате MIDI.
rec записывает входной сигнал с микрофона или других входов в звуковой файл. Тип файла следует указать с помощью параметра (type).Есть возможность добавить звуковые эффекты.
sox преобразует сэмплы из формата входного сигнала, на выходной с добавлением эффектов.
emacs запуск текстового редактора Emacs.
joe простой в использовании редактор работающий в текстовом режиме.
pico простой и удобный в использовании текстовый редактор.Удобен для редактирования конфигурационных и простых файлов.
vi запуск классического текстового редактора VI для UNIX систем.
dmesg выводит на экран сообщения ядра, включая отображаемые при запуске и потом. Что бы удобней читать, вводите dmesg|less.
groupadd создание группы пользователей с указанным именем.
groupdel удаляет группу с указанным именем.
groupmod изменяет параметры группы с указанным именем.
mkpasswd создаёт высококачественный пароль, состоящий по умолчанию из девяти символов и содержащий по крайней мере буквы в разном регистре и цифры.
passwd позволяет пользователю с указанным именем изменять пароль своей учётной записи. root может изменить пароль любого пользователя.
pwgen создаёт высококачественный пароль,который хорошо запоминается.Длинна пароля указывается числом. Если этой утилиты нет, скачать http://metalab.unc.edu/pub/Linux/system/security
quota показывает текущую статистику использования диска и текущие ограничения для пользователя или группы с указанным именем.
quotacheck исследует файловую систему на предмет использования дискового пространства.
quotaon включает и отключает ограничения на использование дискового пространства.
rpm запускает менеджер пакетов, утилиту,позволяющую устанавливать , проверять и обновлять пакеты с расширением rpm.
rpmfind поиск нужного пакета в базе пакетов RPM через ИНТЕРНЕТ.Последняя версия утилиты http://www.rpm.org
tmpwatch удаление всех файлов в указанном каталоге, если к ним не осуществлялся доступ в течении последних n часов.Очищает временные каталоги.
useradd создание нового пользователя с указанным именем.
userdel удаляет пользователя с указанным именем.
usermod изменяет параметры пользователя с указанным именем.
fetchmail утилита получения почты.Роботает в фоновом режиме.Скачивает почту с указанного сервера. Если её нет, скачать можно http://www.freshmeat.net
ftp устанавливает соединение с указанным узлом и позволяет скачивать или закачивать файлы.
lynx запуск консольного WEBброузера.
mail утилита редактирования и просмотра электронной почты.Отправка и получение писем.
netstat вывод информации о сетевой подсистеме.Очень много настроек и параметров.
ping отправка на указанный адрес пакетов для проверки возможности соединения с этим узлом.
telnet открывает окно терминала на удалённом узле и запускает интерактивный сеанс.
wvdial программа подключается к ИНТЕРНЕТ по протоколу PPP с использованием параметров, хранящихся в файле /etc/wvdial.conf
wvdialconf осуществляет поиск модема, определяет порт, к которому он подключен, его строку инициализации и максимальную скорость передачи данных.Эта информация автоматически записывается в файл (смотри выше).Требуется доступ root.
ar средство архивирования, предназначено для создания и распаковки архива.
arch отображает данные об архитектуре центрального процессора.
at ставит задания в очередь для последующего выполнения в указанное время.
atq показывает список заданий которые поставлены в очередь на выполнение.



Простейшие команды

man <имя изучаемой команды>

Еще полезно:

man -k <ключевое слово>

1. Простейшие действия

ls -выдать список файлов в текущем каталоге.

cd [каталог] - сменить текущий каталог. Если имя каталога не указывается, то текущим становится домашний каталог пользователя.

cp <что_копировать> <куда_копировать> - копировать файлы.

mv <что_перемещать> <куда_перемещать> - переместить или переименовать файл.

ln -s <на_что_сделать_ссылку> <имя_ссылки> - создать символическую ссылку.

rm <файлы> - удалить файлы.

mkdir <каталог> - создать новый каталог.

rmdir <каталог> - удалить пустой каталог.

rm -r <файлы и/или каталоги> (рекурсивное удаление) - удалить файлы или каталоги и их подкаталоги. ОСТОРОЖНЕЙ с этой командой, поскольку пока у Linux нет системы полного восстановления удаленных файлов (если вы не пользуетесь специальными программами для помещения удаленных файлов в специальный каталог, что-то вроде "корзинки" в ОС Windows).

cat <имя_файла> - вывод содержимого файла на стандартный вывод (по умолчанию - на экран).
Можно записать вводимый на экран текст с помощью следующей последовательности действий:
cat > <имя_файла>
.
.
.
CTRL/d

more <имя_файла> - просмотр содержимого длинного текстового файла по страницам.

less <имя_файла> - просмотр содержимого текстового файла с возможностью вернуться к предыдущим страницам. Нажмите q, когда захотите выйти из программы. "less" - аналог команды DOS "more", хотя очень часто "less" бывает более удобной чем "more".

pico <имя_файла> - редактировать текстовый файл с помощью текстового редактора pico.

lynx <html_файл или ссылка> - просмотр файла html или WWW ссылки с помощью текстового браузера Lynx.

tar -zxvf <файл> - распаковать архив tgz или tar.gz

find <каталог> -name <имя_файла> - найти файл с именем "имя файла" и отобразить результат поиска на экране. Поиск начинается с каталога <каталог>; "имя_файла" может содержать маску для поиска.

pine - хорошая текстово - ориентированная программа для чтения электронной почты.

mc - запустить программу управления файлами "Midnight Commander" (Выглядит как "Norton Commander", но по своим возможностям ближе к far).

./Имя_Программы - запустить на исполнение исполняемый файл в текущем каталоге, если текущего каталога нет в списке каталогов, указанных в переменной окружения PATH.

xterm (в X терминале) - запустить простой терминал в графической оболочке X-windows. Для того чтобы выйти из него, наберите "exit".


2. Стандартные команды и команды, дающие информацию по системе команд (всегда набираются в одной строке).
Описание:

pwd - вывести имя текущего каталога.

whoami - вывести имя под которым Вы зарегистрированы.

date - вывести дату и время.

time <имя программы> - выполнить программу и получить информацию о времени, нужном для ее выполнения. Не путайте эту команду с date. Например: Я могу определить выполнить команду ls и узнать, как много времени требуется для вывода списка файлов в каталоге, набрав последовательность: time ls

who - определить кто из пользователей работает на машине.

rwho -a - определение всех пользователей, подключившихся к вашей сети. Для выполнения этой команды требуется, чтобы был запущен процесс rwho.

ruptime - какие машины работают в сети, и какие остановлены.

finger <имя_пользователя> - системная информация о зарегистрированном пользователе. Попробуйте: finger <ваш login-name>

uptime - количество времени, прошедшего с последней перезагрузки операционной системы.

ps a - вывести список текущих процессов в Вашем сеансе работы.

top - интерактивный список текущих процессов, отсортированных по использованию центрального процессора.

uname -a - вывести информацию о версии операционной системы.

free - вывести информацию по использованию памяти.

df -h - вывести информацию о свободном и используемом месте на дисках.

du . -bh | more - вывод на экран информации о размере файлов и каталогов, начиная с текущего каталога.

set|more - вывести текущие значения переменных окружения. (Не для всех shell. Для csh/tcsh - printenv | more, хотя set тоже покажет полезную информацию.)

echo $PATH - вывести значение переменной окружения "PATH" Команда echo может использоваться для вывода значений любых переменных окружения. Воспользуйтесь командами set или printenv для получения полного списка.


3. Работа с сетью

ssh - обеспечивает безопасное вхождение в удаленный сеанс работы с другой машиной, а также позволяет выполнить заданную команду на удаленной машине без вхождения в сеанс работы:
ssh [-l Ваше_имя_пользователя_на_удаленной_машине] <имя_удаленной_машины> - вхождение в сеанс на удаленной машине. Используйте имя машины или ее IP адрес. (Вы должны быть зарегистрированы на этой удаленной машине).


(если Ваше_имя_пользователя одинаково на локальной и удаленной машинах, то его можно не набирать, т.е.:
ssh <имя_удаленной_машины> - позволит Вам войти в сеанс на удаленной машине)

ssh <Ваше_имя_пользователя_на удаленной машине@><имя_удаленной_машины> <команда> - выполнит на удаленном компьютере заданную команду и передаст Вам на экран результат ее выполнения (При установлении соединения по ssh Вы должны будете ввести пароль, который Вы имеете на удаленном компьютере; при этом пароль будет передан по сети в зашифрованном виде, т.е. безопасным образом.)


scp - обеспечивает безопасное копирование файлов в сети:
scp <имя_файла_на_локальном_компьютере> <Ваше_имя_пользователя_на удаленной машине>@<имя_удаленной_машины>: -cкопирует файл с локального компьютера в Вашу корневую директорию на удаленном компьютере (наличие ":" в конце команды обязательно).


telnet <имя_удаленной_машины> - связаться по telnet с другой машиной. Войдите в сеанс работы после установления связи с помощью вашего пароля.

ftp <имя_удаленной_машины> - связаться по ftp с удаленным компьютером. Этот тип связи хорош для копирования файлов с/на удаленную машину.

Предпочтительно не пользоваться командами telnet и ftp, а использовать только ssh и scp, поскольку они обеспечивают безопасность сетевого соединения!!!

hostname -i - показывает IP адрес компьютера, на котором Вы работаете.


4. Некоторые команды администрирования

alias ls="ls -Fskb --color" - создать alias - псевдоним для того чтобы одной командой можно было запустить более сложную комбинацию команд. Поместите создание alias в файл /etc/bashrc если вы хотите, чтобы эти псевдонимы были доступны всем пользователям вашей системы.

Для tcsh -формат определения alias другой:

alias la 'ls -AF --color=none'

kapasswd - команда для изменения пароля для доступа к файловой системе AFS. При работе на базовом Linux-кластере ЛИТ следует пользоваться только этой командой (а не командой passwd!) для изменения пароля для вхождения в кластер.

passwd - изменить свой пароль на каком-либо локальном компьютере.

chmod <права доступа> <файл> - изменить права доступа к файлу, владельцем которого вы являетесь.

Есть три способа доступа к файлу:
чтение - read (r), запись - write (w), исполнение - execute (x) и три типа пользователей:
владелец файла - owner (u), члены той же группы, что и владелец файла (g) и все остальные (o).
Поверить текущие права доступа можно следующим способом:

ls -l имя_файла

Если файл доступен всеми способами всем пользователям, то напротив имени файла будет следующая комбинация букв: rwxrwxrwx
Первые три буквы - это права доступа для владельца файла, второй триплет - права доступа для его группы, следующая тройка - права доступа для остальных. Отсутствие права доступа показывается как "-".; Например: Эта команда позволит вам установить права доступа на чтение для файла "junk" для всех (all=user+group+others):

chmod a+r junk

Эта команда отнимет право доступа на исполнение файла у всех кроме пользователя и группы:

chmod o-x junk

Для получения дополнительной информации наберите chmod --help или man chmod или почитайте любое руководство по Linux. Вы можете установить права доступа по умолчанию для создаваемых вами файлов с помощью команды "umask" (наберите man umask).

chown <новый_владелец> <файлы> - изменить владельца файлов.

chgrp <новая_группа> <файлы> - изменить группу для файла.

Вы можете использовать две последние команды, после того как сделали копию файла для кого-либо.

5. Контроль процессов

ps axu | grep <Ваше_имя_пользователя> - отобразить все процессы, запущенные в системе от Вашего имени пользователя.

kill <PID> - "убить" процесс. Для начала определите PID Вашего "убиваемого" процесса при помощи ps.

killall <имя_программы> - "убить" все процессы по имени программы.

xkill (в терминале X window) - "убить" процесс, на окно которого укажите курсором.


6. Встроенные в Linux программные утилиты и языки

emacs (в X терминале) - редактор emacs. Очень многофукционален, но весьма сложен для неопытных пользователей.

gcc <c_исходник> - GNU C компилятор. В сети есть очень хорошие руководства по использованию.

g++ <cpp_исходник> - GNU C++ компилятор.

perl - очень мощный скриптовый язык. Чрезвычайно гибкий, но с довольно сложным синтаксисом. Очень популярен среди продвинутых пользователей.

python - современный и довольно элегантный объектно-ориентированный интерпретатор. Выглядит таким же мощным и немного проще, чем perl.

g77 - GNU FORTRAN компилятор.

f2c - перекодировщик из FORTRAN в C.

fort77 - компилятор FORTRAN. Выполняет f2c, а затем использует gcc или g++.

grep - поиск фрагмента текста в файлах, удовлетворяющего набранной маске. Маска определяется с помощью стандартной системы обозначений, называемой "регулярные выражения".

tr - translation utility (другими словами - замена букв в текстовом файле).

gawk - GNU awk (используется для обработки форматированных текстовых файлов). Лучше вызывать просто awk.

sed - утилита для обработки текстовых файлов.


                         Комбинации клавиш

Естественные сочетания клавиш и обозначения

[Ctrl][Alt][F1]	Переключение в первый консольный терминал
[Ctrl][Alt][F#]	Переключение в #ый консольный терминал (#=1..6)
[Ctrl][Alt][F7]	Переключение в графический терминал (если таковой запущен)
[Tab]	Дополнение текущей последовательности символов, набранной в консоли, до исполняемой команды. Эта особенность сильно облегчает жизнь при наборе команд! Это работает также и при загрузке компьютера. Это снижает вероятность сделать ошибку! Короче, юзайте кнопку tab!
[ArrowUp] - стрелка вверх	Просмотр и редактирование буфера истории команд. Для исполнения команды нажмите [Enter].
[Ctrl + r] Начало_строки	В bash - поиск по истории команд.
[Shift][PgUp]	Просмотр текста выведенного на консольный терминал и ушедшего за приделы экрана. Перемещение в вверх.
[Shift][PgDown]	То же что и выше. Перемещение в вниз.
[Ctrl][Alt][+]	(в X-windows) Изменение разрешения. Переключение к следующей конфигурации.
[Ctrl][Alt][-]	(В X-windows) Изменение разрешения. Возврат к предыдущей конфигурации.
[Ctrl][Alt][BkSpc]	(в X-windows) Убить текущий сервер X-windows (выйти из графической оболочки уничтожив все процессы).
[Ctrl][Alt][Del]	Перезагрузка компьютера.
[Ctrl+c]	Убить текущий процесс.
[Ctrl+d]	Выход из текущего терминала. (В некоторых shell - дописывание фразы как tab, что очень не удобно)
[Ctrl+d]	Посылка текущему процессу сигнала [Конец-файла] (конец файла). Например, в команде cat.
[Ctrl+s]	Остановка вывода на терминал.
[Ctrl+q]	Возобновление вывода на терминал. Попробуйте эту комбинацию клавиш, если ваш терминал непонятно почему перестал отвечать на ваши запросы.
[Ctrl+z]	Послать текущий процесс в background. (см еще: jobs - список bg процессов. fg номер - вывод процесса из бэкграунда в foreground)
reset	Восстановление значений по умолчанию для "запорченного" терминала (терминал показывает странные символы и неадекватно реагирует на нажатие клавиш). Используйте эту команду если вы попытались вывести на экран бинарный файл. Вероятно вы не сможете увидеть эту команду в процессе ее набора.
[Правая кнопка мыши]	Вставка выделенного курсором текста.
~	Моя домашняя директория. Например cd ~/моя_поддиректория.
.	(точка) Текущая директория.
..	(две точки) Родительская директория для текущего каталога. Например: cd ../ перенесёт вас "выше".



                             Структура каталога
/               Корневой каталог.
/bin            В этом каталоге находятся системные и пользовательские утилиты, такие как cat, ls, cp
/boot           Компоненты, необходимые для начальной загрузки системы
/dev            Файлы описания всех устройств
/etc            Файлы конфигурации и подкаталоги с конфигурационными данными системы
/home           Каталог, используемый для хранения данных пользователя. В /home создается рабочий каталог для каждого пользователя. Аналог Document and Settenings из Windows
/lib            Общие библиотеки, необходимые для работы программ и системы
/media          Точки монтирования для извлекаемых устройств, таких как CD-ROM
/mnt            Временно примонтированые файловые системы
/opt            Дополнительные пакеты приложений
/proc           Представляет собой виртуальную файловую систему. В нем содержится информация о запущеных в данный момент процессах
/root           Рабочий каталог суперпользователя
/sbin           Системные утилиты и основные приложения для администрирования
/tmp            Временные файлы
/usr            Пользовательская информация. Предназначен для хранения совместно используемых данных, этот каталог является главной частью файловой системы.
/var            Предназначен для хранения изменяемых данных.




                                                          Еще Линукс Команды

arch	отобразить архитектуру компьютера
uname -m
uname -r	отобразить используемую версию ядра
dmidecode -q	показать аппаратные системные компоненты - (SMBIOS / DMI)
hdparm -i /dev/hda	вывести характеристики жесткого диска
hdparm -tT /dev/sda	протестировать производительность чтения данных с жесткого диска
cat /proc/cpuinfo	отобразить информацию о процессоре
cat /proc/interrupts	показать прерывания
cat /proc/meminfo	проверить использование памяти
cat /proc/swaps	показать файл(ы) подкачки
cat /proc/version	вывести версию ядра
cat /proc/net/dev	показать сетевые интерфейсы и статистику по ним
cat /proc/mounts	отобразить смонтированные файловые системы
lspci -tv	показать в виде дерева PCI устройства
lsusb -tv	показать в виде дерева USB устройства
date	вывести системную дату
cal 2007	вывести таблицу-календарь 2007-го года
date 041217002007.00 	установить системные дату и время ММДДЧЧммГГГГ.СС (МесяцДеньЧасМинутыГод.Секунды)
clock -w
сохранить системное время в BIOS
Остановка системы
shutdown -h now	Остановить систему
init 0
telinit 0
shutdown -h hours:minutes &	запланировать остановку системы на указанное время
shutdown -c	отменить запланированную по расписанию остановку системы
shutdown -r now	перегрузить систему
reboot
logout	выйти из системы
Файлы и директории
cd /home	перейти в директорию '/home'
cd ..	перейти в директорию уровнем выше
cd ../..	перейти в директорию двумя уровнями выше
cd	перейти в домашнюю директорию
cd ~user	перейти в домашнюю директорию пользователя user
cd -	перейти в директорию, в которой находились до перехода в текущую директорию
pwd	показать текущюю директорию
ls	отобразить содержимое текущей директории
ls -F	отобразить содержимое текущей директории с добавлением к именам символов, храктеризующих тип
ls -l	показать детализированое представление файлов и директорий в текущей директории
ls -a	показать скрытые файлы и директории в текущей директории
ls *[0-9]*	показать файлы и директории содержащие в имени цифры
tree	показать дерево файлов и директорий, начиная от корня (/)
lstree
mkdir dir1	создать директорию с именем 'dir1'
mkdir dir1 dir2	создать две директории одновременно
mkdir -p /tmp/dir1/dir2	создать дерево директорий
rm -f file1	удалить файл с именем 'file1'
rmdir dir1	удалить директорию с именем 'dir1'
rm -rf dir1	удалить директорию с именем 'dir1' и рекурсивно всё её содержимое
rm -rf dir1 dir2	удалить две директории и рекурсивно их содержимое
mv dir1 new_dir	переименовать или переместить файл или директорию
cp file1 file2	сопировать файл file1 в файл file2
cp dir/* .	копировать все файлы директории dir в текущую директорию
cp -a /tmp/dir1 .	копировать директорию dir1 со всем содержимым в текущую директорию
cp -a dir1 dir2	копировать директорию dir1 в директорию dir2
ln -s file1 lnk1 	создать символическую ссылку на файл или директорию
ln file1 lnk1	создать "жёсткую" (физическую) ссылку на файл или директорию
touch -t 0712250000 fileditest	модифицировать дату и время создания файла, при его отсутствии, создать файл с указанными датой и временем (YYMMDDhhmm)
Поиск файлов
find / -name file1	найти файлы и директории с именем file1. Поиск начать с корня (/)
find / -user user1	найти файл и директорию принадлежащие пользователю user1. Поиск начать с корня (/)
find /home/user1 -name "*.bin"	Найти все файлы и директории, имена которых оканчиваются на '. bin'. Поиск начать с '/ home/user1'
find /usr/bin -type f -atime +100	найти все файлы в '/usr/bin', время последнего обращения к которым более 100 дней
find /usr/bin -type f -mtime -10	найти все файлы в '/usr/bin', созданные или изменённые в течении последних 10 дней
find / -name *.rpm -exec chmod 755 '{}' \;	найти все фалы и директории, имена которых оканчиваются на '.rpm', и изменить права доступа к ним
find / -xdev -name "*.rpm"	найти все фалы и директории, имена которых оканчиваются на '.rpm', игнорируя съёмные носители, такие как cdrom, floppy и т.п.
locate "*.ps"	найти все файлы, сожержащие в имени '.ps'. Предварительно рекомендуется выполнить команду 'updatedb'
whereis halt	показывает размещение бинарных файлов, исходных кодов и руководств, относящихся к файлу 'halt'
which halt	отображает полный путь к файлу 'halt'
Монтирование файловых систем
mount /dev/hda2 /mnt/hda2	монтирует раздел 'hda2' в точку монтирования '/mnt/hda2'. Убедитесь в наличии директории-точки монтирования '/mnt/hda2'
umount /dev/hda2	размонтирует раздел 'hda2'. Перед выполнением, покиньте '/mnt/hda2'
fuser -km /mnt/hda2	принудительное размонтирование раздела. Применяется в случае, когда раздел занят каким-либо пользователем
umount -n /mnt/hda2	выполнить размонитрование без занесения информации в /etc/mtab. Полезно когда файл имеет атрибуты "только чтение" или недостаточно места на диске
mount /dev/fd0 /mnt/floppy	монтировать флоппи-диск
mount /dev/cdrom /mnt/cdrom	монтировать CD или DVD
mount /dev/hdc /mnt/cdrecorder	монтировать CD-R/CD-RW или DVD-R/DVD-RW(+-)
mount -o loop file.iso /mnt/cdrom	смонтировать ISO-образ
mount -t vfat /dev/hda5 /mnt/hda5	монтировать файловую систему Windows FAT32
mount -t smbfs -o username=user,password=pass //winclient/share /mnt/share	монтировать сетевую файловую систему Windows (SMB/CIFS)
mount -o bind /home/user/prg /var/ftp/user	"монтирует" директорию в директорию (binding). Доступна с версии ядра 2.4.0. Полезна, например, для предоставления содержимого пользовательской директории через ftp при работе ftp-сервера в "песочнице" (chroot), когда симлинки сделать невозможно. Выполнение данной команды сделает копию содержимого /home/user/prg в /var/ftp/user
Дисковое пространство
df -h	отображает информацию о смонтированных разделах с отображением общего, доступного и используемого пространства (Прим.переводчика. ключ -h работает не во всех *nix системах)
ls -lSr |more	выдаёт список файлов и директорий рекурсивно с сортировкой по возрастанию размера и позволяет осуществлять постраничный просмотр
du -sh dir1	подсчитывает и выводит размер, занимаемый директорией 'dir1' (Прим.переводчика. ключ -h работает не во всех *nix системах)
du -sk * | sort -rn 	отображает размер и имена файлов и директорий, с соритровкой по размеру
rpm -q -a --qf '%10{SIZE}t%{NAME}n' | sort -k1,1n	показывает размер используемого дискового пространства, занимаемое файлами rpm-пакета, с сортировкой по размеру (fedora, redhat и т.п.)
dpkg-query -W -f='${Installed-Size;10}t${Package}n' | sort -k1,1n	показывает размер используемого дискового пространства, занимаемое файлами deb-пакета, с сортировкой по размеру (ubuntu, debian т.п.)
Пользователи и группы
groupadd group_name	создать новую группу с именем group_name
groupdel group_name	удалить группу group_name
groupmod -n new_group_name old_group_name	переименовать группу old_group_name в new_group_name
useradd -c "Nome Cognome" -g admin -d /home/user1 -s /bin/bash user1	создать пользователя user1, назначить ему в качестве домашнего каталога /home/user1, в качестве shell'а /bin/bash, включить его в группу admin и добавить комментарий Nome Cognome
useradd user1	создать пользователя user1
userdel -r user1	удалить пользователя user1 и его домашний каталог
usermod -c "User FTP" -g system -d /ftp/user1 -s /bin/nologin user1	изменить атрибуты пользователя
passwd	сменить пароль
passwd user1	сменить пароль пользователя user1 (только root)
chage -E 2005-12-31 user1	установить дату окончания действия учётной записи пользователя user1
pwck	проверить корректность системных файлов учётных записей. Проверяются файлы /etc/passwd и /etc/shadow
grpck	проверяет корректность системных файлов учётных записей. Проверяется файл/etc/group
newgrp [-] group_name	изменяет первичную группу текущего пользователя. Если указать "-", ситуация будет идентичной той, в которой пользователь вышил из системы и снова вошёл. Если не указывать группу, первичная группа будет назначена из /etc/passwd
Выставление/изменение полномочий на файлы
ls -lh	просмотр полномочий на файлы и директории в текущей директории
ls /tmp | pr -T5 -W$COLUMNS	вывести содержимое директории /tmp и разделить вывод на пять колонок
chmod ugo+rwx directory1	добавить полномочия на директорию directory1 ugo(User Group Other)+rwx(Read Write eXecute) - всем полные права. Аналогичное можно сделать таким образом
chmod 777 directory1
chmod go-rwx directory1	отобрать у группы и всех остальных все полномочия на директорию directory1.
chown user1 file1	назначить владельцем файла file1 пользователя user1
chown -R user1 directory1	назначить рекурсивно владельцем директории directory1 пользователя user1
chgrp group1 file1	сменить группу-владельца файла file1 на group1
chown user1:group1 file1	сменить владельца и группу владельца файла file1
find / -perm -u+s	найти, начиная от корня, все файлы с выставленным SUID
chmod u+s /bin/binary_file	назначить SUID-бит файлу /bin/binary_file. Это даёт возможность любому пользователю запускать на выполнение файл с полномочиями владельца файла.
chmod u-s /bin/binary_file	снять SUID-бит с файла /bin/binary_file.
chmod g+s /home/public	назначить SGID-бит директории /home/public.
chmod g-s /home/public	снять SGID-бит с директории /home/public.
chmod o+t /home/public	назначить STIKY-бит директории /home/public. Позволяет удалять файлы только владельцам
chmod o-t /home/public	снять STIKY-бит с директории /home/public
Специальные атрибуты файлов
chattr +a file1	позволить открывать файл на запись только в режиме добавления
chattr +c file1	позволяет ядру автоматически сжимать/разжимать содержимое файла.
chattr +d file1	указавет утилите dump игнорировать данный файл во время выполнения backup'а
chattr +i file1	делает файл недоступным для любых изменений: редактирование, удаление, перемещение, создание линков на него.
chattr +s file1	позволяет сделать удаление файла безопасным, т.е. выставленный атрибут s говорит о том, что при удалении файла, место, занимаемое файлом на диске заполняется нулями, что предотвращяет возможность восстановления данных.
chattr +S file1	указывает, что, при сохранении изменений, будет произведена синхронизация, как при выполнении команды sync
chattr +u file1	данный атрибут указывает, что при удалении файла содержимое его будет сохранено и при необходимости пользователь сможет его восстановить
lsattr	показать атрибуты файлов
Архивирование и сжатие файлов
bunzip2 file1.bz2	разжимает файл 'file1.gz'
gunzip file1.gz
gzip file1	сжимает файл 'file1'
bzip2 file1
gzip -9 file1	сжать файл file1 с максимальным сжатием
rar a file1.rar test_file	создать rar-архив 'file1.rar' и включить в него файл test_file
rar a file1.rar file1 file2 dir1	создать rar-архив 'file1.rar' и включить в него file1, file2 и dir1
rar x file1.rar	распаковать rar-архив
unrar x file1.rar
tar -cvf archive.tar file1	создать tar-архив archive.tar, содержащий файл file1
tar -cvf archive.tar file1 file2 dir1	создать tar-архив archive.tar, содержащий файл file1, file2 и dir1
tar -tf archive.tar	показать содержимое архива
tar -xvf archive.tar	распаковать архив
tar -xvf archive.tar -C /tmp	распаковать архив в /tmp
tar -cvfj archive.tar.bz2 dir1	создать архив и сжать его с помощью bzip2(Прим.переводчика. ключ -j работает не во всех *nix системах)
tar -xvfj archive.tar.bz2	разжать архив и распаковать его(Прим.переводчика. ключ -j работает не во всех *nix системах)
tar -cvfz archive.tar.gz dir1	создать архив и сжать его с помощью gzip
tar -xvfz archive.tar.gz	разжать архив и распаковать его
zip file1.zip file1	создать сжатый zip-архив
zip -r file1.zip file1 file2 dir1	создать сжатый zip-архив и со включением в него нескольких файлов и/или директорий
unzip file1.zip	разжать и распаковать zip-архив
RPM пакеты (Fedora, Red Hat и тому подобное)
rpm -ivh package.rpm	установить пакет с выводом сообщений и прогресс-бара
rpm -ivh --nodeps package.rpm	установить пакет с выводом сообщений и прогресс-бара без контроля зависимостей
rpm -U package.rpm	обновить пакет без изменений конфигурационных файлов, в случае отсутствия пакета, он будет установлен
rpm -F package.rpm	обновить пакет только если он установлен
rpm -e package_name.rpm	удалить пакет
rpm -qa	отобразить список всех пакетов, установленных в системе
rpm -qa | grep httpd	среди всех пакетов, установленных в системе, найти пакет содержащий в своём имени "httpd"
rpm -qi package_name	вывести информацию о конкрентном пакете
rpm -qg "System Environment/Daemons"	отобразить пакеты входящие в группу пакетов
rpm -ql package_name	вывести список файлов, входящих в пакет
rpm -qc package_name	вывести список конфигурационных файлов, входящих в пакет
rpm -q package_name --whatrequires	вывести список пакетов, необходимых для установки конкретного пакета по зависимостям
rpm -q package_name --whatprovides	show capability provided by a rpm package
rpm -q package_name --scripts	отобразит скрипты, запускаемые при установке/удалении пакета
rpm -q package_name --changelog	вывести историю ревизий пакета
rpm -qf /etc/httpd/conf/httpd.conf	проверить какому пакету принадлежит указанный файл. Указывать следует полный путь и имя файла.
rpm -qp package.rpm -l	отображает список файлов, входящих в пакет, но ещё не установленных в систему
rpm --import /media/cdrom/RPM-GPG-KEY	ипортировать публичный ключ цифровой подписи
rpm --checksig package.rpm	проверит подпись пакета
rpm -qa gpg-pubkey	проверить целостность установленного содержимого пакета
rpm -V package_name	проверить размер, полномочия, тип, владельца, группу, MD5-сумму и дату последнего изменеия пакета
rpm -Va	проверить содержимое всех пакеты установленные в систему. Выполняйте с осторожностью!
rpm -Vp package.rpm	проверить пакет, который ещё не установлен в систему
rpm2cpio package.rpm | cpio --extract --make-directories *bin*	извлечь из пакета файлы содержащие в своём имени bin
rpm -ivh /usr/src/redhat/RPMS/`arch`/package.rpm	установить пакет, собранный из исходных кодов
rpmbuild --rebuild package_name.src.rpm	собрать пакет из исходных кодов
YUM - средство обновления пакетов(Fedora, RedHat и тому подобное)
yum install package_name	закачать и установать пакет
yum update	обновить все пакеты, установленные в систему
yum update package_name	обновить пакет
yum remove package_name	удалить пакет
yum list	вывести список всех пакетов, установленных в систему
yum search package_name	найти пакет в репозитории
yum clean packages	очисть rpm-кэш, удалив закачанные пакеты
yum clean headers	удалить все заголовки файлов, которые система использует для разрешения зависимостей
yum clean all	очисть rpm-кэш, удалив закачанные пакеты и заголовки
DEB пакеты (Debian, Ubuntu и тому подобное)
dpkg -i package.deb	установить / обновить пакет
dpkg -r package_name	удалить пакет из системы
dpkg -l	показать все пакеты, установленные в систему
dpkg -l | grep httpd	среди всех пакетов, установленных в системе, найти пакет содержащий в своём имени "httpd"
dpkg -s package_name	отобразить инфрмацию о конкретном пакете
dpkg -L package_name	вывести список файлов, входящих в пакет, установленный в систему
dpkg --contents package.deb	отобразить список файлов, входящих в пакет, который ешё не установлен в систему
dpkg -S /bin/ping	найти пакет, в который входит указанный файл.
APT - средство управление пакетами (Debian, Ubuntu и тому подобное)
apt-get install package_name	установить / обновить пакет
apt-cdrom install package_name	установить / обновить пакет с cdrom'а
apt-get update	получить обновлённые списки пакетов
apt-get upgrade	обновить пакеты, установленные в систему
apt-get remove package_name	удалить пакет, установленный в систему с сохранением файлов конфигурации
apt-get purge package_name	удалить пакет, установленный в систему с удалением файлов конфигурации
apt-get check	проверить целостность зависимостей
apt-get clean	удалить загруженные архивные файлы пакетов
apt-get autoclean	удалить старые загруженные архивные файлы пакетов
Просмотр содержимого файлов
cat file1	вывести содержимое файла file1 на стандартное устройсво вывода
tac file1	вывести содержимое файла file1 на стандартное устройсво вывода в обратном порядке (последняя строка становиться первой и т.д.)
more file1	постраничный вывод содержимого файла file1 на стандартное устройство вывода
less file1	постраничный вывод содержимого файла file1 на стандартное устройство вывода, но с возможностью пролистывания в обе стороны (вверх-вниз), поиска по содержимому и т.п.
head -2 file1	вывести первые две строки файла file1 на стандартное устройство вывода. По-умолчанию выводится десять строк
tail -2 file1	вывести последние две строки файла file1 на стандартное устройство вывода. По-умолчанию выводится десять строк
tail -f /var/log/messages	выводить содержимое файла /var/log/messages на стандартное устройство вывода по мере появления в нём текста.
Манипуляции с текстом
cat file_originale | [operation: sed, grep, awk, grep и т.п.] > result.txt	общий синтаксис выполнения действий по обработке содержимого файла и вывода результата в новый
cat file_originale | [operazione: sed, grep, awk, grepи т.п.] >> result.txt	общий синтаксис выполнения действий по обработке содержимого файла и вывода результата в существующий файл. Если файл не существует, он будет создан
grep Aug /var/log/messages	из файла '/var/log/messages' отобрать и вывести на стандартное устройство вывода строки, содержащие "Aug"
grep ^Aug /var/log/messages	из файла '/var/log/messages' отобрать и вывести на стандартное устройство вывода строки, начинающиеся на "Aug"
grep [0-9] /var/log/messages	из файла '/var/log/messages' отобрать и вывести на стандартное устройство вывода строки, содержащие цифры
grep Aug -R /var/log/*	отобрать и вывести на стандартное устройство вывода строки, содержащие "Aug", во всех файлах, находящихся в директории /var/log и ниже
sed 's/stringa1/stringa2/g' example.txt	в файле example.txt заменить "string1" на "string2", результат вывести на стандартное устройство вывода.
sed '/^$/d' example.txt	удалить пустые строки из файла example.txt
sed '/ *#/d; /^$/d' example.txt	удалить пустые строки и комментарии из файла example.txt
echo 'esempio' | tr '[:lower:]' '[:upper:]'	преобразовать символы из нижнего регистра в верхний
sed -e '1d' result.txt	удалить первую строку из файла example.txt
sed -n '/string1/p'	отобразить только строки содержашие "string1"
sed -e 's/ *$//' example.txt	удалить пустые символы в в конце каждой строки
sed -e 's/string1//g' example.txt	удалить строку "string1" из текста не изменяя всего остального
sed -n '1,8p;5q' example.txt	взять из файла с первой по восьмую строки и из них вывести первые пять
sed -n '5p;5q' example.txt	вывести пятую строку
sed -e 's/0*/0/g' example.txt	заменить последовательность из любого количества нулей одним нулём
cat -n file1	пронумеровать строки при выводе содержимого файла
cat example.txt | awk 'NR%2==1'	при выводе содержимого файла, не выводить чётные строки файла
echo a b c | awk '{print $1}'	вывести первую колонку. Разделение, по-умолчанию, по проблелу/пробелам или символу/символам табуляции
echo a b c | awk '{print $1,$3}'	вывести первую и треью колонки. Разделение, по-умолчанию, по проблелу/пробелам или символу/символам табуляции
paste file1 file2	объединить содержимое file1 и file2 в виде таблицы: строка 1 из file1 = строка 1 колонка 1-n, строка 1 из file2 = строка 1 колонка n+1-m
paste -d '+' file1 file2	объединить содержимое file1 и file2 в виде таблицы с разделителем "+"
sort file1 file2	отсортировать содержимое двух файлов
sort file1 file2 | uniq	отсортировать содержимое двух файлов, не отображая повторов
sort file1 file2 | uniq -u	отсортировать содержимое двух файлов, отображая только уникальные строки (строки, встречающиеся в обоих файлах, не выводятся на стандартное устройство вывода)
sort file1 file2 | uniq -d	отсортировать содержимое двух файлов, отображая только повторяющиеся строки
comm -1 file1 file2	сравнить содержимое двух файлов, не отображая строки принадлежащие файлу 'file1'
comm -2 file1 file2	сравнить содержимое двух файлов, не отображая строки принадлежащие файлу 'file2'
comm -3 file1 file2	сравнить содержимое двух файлов, удаляя строки встречающиеся в обоих файлах
Преобразование наборов символов и файловых форматов
dos2unix filedos.txt fileunix.txt	конвертировать файл текстового формата из MSDOS в UNIX (разница в символах возврата коретки)
unix2dos fileunix.txt filedos.txt	конвертировать файл текстового формата из UNIX в MSDOS (разница в символах возврата коретки)
recode ..HTML < page.txt > page.html	конвертировать содержимое тестового файла page.txt в html-файл page.html
recode -l | more	вывести список доступных форматов
Анализ файловых систем
badblocks -v /dev/hda1	проверить раздел hda1 на наличие bad-блоков
fsck /dev/hda1	проверить/восстановить целостность linux-файловой системы раздела hda1
fsck.ext2 /dev/hda1	проверить/восстановить целостность файловой системы ext2 раздела hda1
e2fsck /dev/hda1
e2fsck -j /dev/hda1	проверить/восстановить целостность файловой системы ext3 раздела hda1 с указанием, что журнал расположен там же
fsck.ext3 /dev/hda1	проверить/восстановить целостность файловой системы ext3 раздела hda1
fsck.vfat /dev/hda1	проверить/восстановить целостность файловой системы fat раздела hda11
fsck.msdos /dev/hda1
dosfsck /dev/hda1
Форматирование файловых систем
mkfs /dev/hda1	создать linux-файловую систему на разделе hda1
mke2fs /dev/hda1	создать файловую систему ext2 на разделе hda1
mke2fs -j /dev/hda1	создать журналирующую файловую систему ext3 на разделе hda1
mkfs -t vfat 32 -F /dev/hda1	создать файловую систему FAT32 на разделе hda1
fdformat -n /dev/fd0	форматирование флоппи-диска без проверки
mkswap /dev/hda3	создание swap-пространства на разделе hda3
swap-пространство
mkswap /dev/hda3	создание swap-пространства на разделе hda3
swapon /dev/hda3	активировать swap-пространство, расположенное на разделе hda3
swapon /dev/hda2 /dev/hdb3	активировать swap-пространства, расположенные на разделах hda2 и hdb3
Создание резервных копий (backup)
dump -0aj -f /tmp/home0.bak /home	создать полную резервную копию директории /home в файл /tmp/home0.bak
dump -1aj -f /tmp/home0.bak /home 	создать инкрементальную резервную копию директории /home в файл /tmp/home0.bak
restore -if /tmp/home0.bak	восстановить из резервной копии /tmp/home0.bak
rsync -rogpav --delete /home /tmp	синхронизировать /tmp с /home
rsync -rogpav -e ssh --delete /home ip_address:/tmp 	синхронизировать через SSH-туннель
rsync -az -e ssh --delete ip_addr:/home/public /home/local	синхронизировать локальную директорию с удалённой директорией через ssh-туннель со сжатием
rsync -az -e ssh --delete /home/local ip_addr:/home/public	синхронизировать удалённую директорию с локальной директорией через ssh-туннель со сжатием
dd bs=1M if=/dev/hda | gzip | ssh user@ip_addr 'dd of=hda.gz'	сделать "слепок" локального диска в файл на удалённом компьютере через ssh-туннель
tar -Puf backup.tar /home/user	создать инкрементальную резервную копию директории '/home/user' в файл backup.tar с сохранением полномочий
( cd /tmp/local/ && tar c . ) | ssh -C user@ip_addr 'cd /home/share/ && tar x -p'	копирование содержимого /tmp/local на удалённый компьютер через ssh-туннель в /home/share/
( tar c /home ) | ssh -C user@ip_addr 'cd /home/backup-home && tar x -p' 	копирование содержимого /home на удалённый компьютер через ssh-туннель в /home/backup-home
tar cf - . | (cd /tmp/backup ; tar xf - )	копирование одной директории в другую с сохранением полномочий и линков
find /home/user1 -name '*.txt' | xargs cp -av --target-directory=/home/backup/ --parents	поиск в /home/user1 всех файлов, имена которых оканчиваются на '.txt', и копирование их в другую директорию
find /var/log -name '*.log' | tar cv --files-from=- | bzip2 > log.tar.bz2	поиск в /var/log всех файлов, имена которых оканчиваются на '.log', и создание bzip-архива из них
dd if=/dev/hda of=/dev/fd0 bs=512 count=1	создать копию MBR (Master Boot Record) с /dev/hda на флоппи-диск
dd if=/dev/fd0 of=/dev/hda bs=512 count=1	восстановить MBR с флоппи-диска на /dev/hda
CDROM
cdrecord -v gracetime=2 dev=/dev/cdrom -eject blank=fast -force	clean a rewritable cdrom
mkisofs /dev/cdrom > cd.iso	create an iso image of cdrom on disk
mkisofs /dev/cdrom | gzip > cd_iso.gz	create a compressed iso image of cdrom on disk
mkisofs -J -allow-leading-dots -R -V "Label CD" -iso-level 4 -o ./cd.iso data_cd	create an iso image of a directory
cdrecord -v dev=/dev/cdrom cd.iso	burn an ISO image
gzip -dc cd_iso.gz | cdrecord dev=/dev/cdrom -	burn a compressed ISO image
mount -o loop cd.iso /mnt/iso	mount an ISO image
cd-paranoia -B	rip audio tracks from a CD to wav files
cd-paranoia -- "-3"	rip first three audio tracks from a CD to wav files
cdrecord --scanbus	scan bus to identify the channel scsi
Сеть (LAN и WiFi)
ifconfig eth0	показать конфигурацию сетевого интерфейса eth0
ifup eth0	активировать (поднять) интерфейс eth0
ifdown eth0	деактивировать (опустить) интерфейс eth0
ifconfig eth0 192.168.1.1 netmask 255.255.255.0	выставить интерфейсу eth0 ip-адрес и маску подсети
ifconfig eth0 promisc	перевести интерфейс eth0 в promiscuous-режим для "отлова" пакетов (sniffing)
ifconfig eth0 -promisc	отключить promiscuous-режим на интерфейсе eth0
dhclient eth0	активировать интерфейс eth0 в dhcp-режиме.
route -n	вывести локальную таблицу маршрутизации
netstat -rn
route add -net 0/0 gw IP_Gateway	задать ip-адрес шлюза по умолчанию (default gateway)
route add -net 192.168.0.0 netmask 255.255.0.0 gw 192.168.1.1	добавить статический маршрут в сеть 192.168.0.0/16 через шлюз с ip-адресом 192.168.1.1
route del 0/0 gw IP_gateway	удалить ip-адрес шлюза по умолчанию (default gateway)
echo "1" > /proc/sys/net/ipv4/ip_forward	разрешить пересылку пакетов (forwarding)
hostname	отобразить имя компьютера
host www.linuxguide.it	разрешить имя www.linuxguide.it хоста в ip-адрес и наоборот
host 62.149.140.85
ip link show	отобразить состояние всех интерфейсов
mii-tool eth0	отобразить статус и тип соединения для интерфейса eth0
ethtool eth0	отображает статистику интерфеса eth0 с выводом такой информации, как поддерживаемые и текущие режимы соединения
netstat -tupn	отображает все установленные сетевые соединения по протоколам TCP и UDP без разрешения имён в ip-адреса и PID'ы и имена процессов, обеспечивающих эти соединения
netstat -tupln	отображает все сетевые соединения по протоколам TCP и UDP без разрешения имён в ip-адреса и PID'ы и имена процессов, слушающих порты
tcpdump tcp port 80	отобразить весь трафик на TCP-порт 80 (обычно - HTTP)
iwlist scan	просканировать эфир на предмет, доступности беспроводных точек доступа
iwconfig eth1	показать конфигурацию беспроводного сетевого интерфейса eth1
Microsoft Windows networks(SAMBA)
nbtscan ip_addr	разрешить netbios-имя nbtscan не во всех системах ставится по-умолчанию, возможно, придётся доустанавливать вручную. nmblookup включен в пакет samba.
nmblookup -A ip_addr
smbclient -L ip_addr/hostname	отобразить ресурсы, предоставленные в общий доступ на windows-машине
smbget -Rr smb://ip_addr/share	подобно wget может получить файлы с windows-машин через smb-протокол
mount -t smbfs -o username=user,password=pass //winclient/share /mnt/share	смонтировать smb-ресурс, предоставленный на windows-машине, в локальную файловую систему
IPTABLES (firewall)
iptables -t filter -nL	отобразить все цепочки правил
iptables -nL
iptables -t nat -L	отобразить все цепочки правил в NAT-таблице
iptables -t filter -F	очистить все цепочки правил в filter-таблице
iptables -F
iptables -t nat -F	очистить все цепочки правил в NAT-таблице
iptables -t filter -X	удалить все пользовательские цепочки правил в filter-таблице
iptables -t filter -A INPUT -p tcp --dport telnet -j ACCEPT	позволить входящее подключение telnet'ом
iptables -t filter -A OUTPUT -p tcp --dport http -j DROP	блокировать исходящие HTTP-соединения
iptables -t filter -A FORWARD -p tcp --dport pop3 -j ACCEPT	позволить "прокидывать" (forward) POP3-соединения
iptables -t filter -A INPUT -j LOG --log-prefix "DROP INPUT"	включить журналирование ядром пакетов, проходящих через цепочку INPUT, и добавлением к сообщению префикса "DROP INPUT"
iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE	включить NAT (Network Address Translate) исходящих пакетов на интерфейс eth0. Допустимо при использовании с динамически выделяемыми ip-адресами.
iptables -t nat -A PREROUTING -d 192.168.0.1 -p tcp -m tcp --dport 22 -j DNAT --to-destination 10.0.0.2:22	перенаправление пакетов, адресованных одному хосту, на другой хост
Мониторинг и отладка
top	отобразить запущенные процессы, используемые ими ресурсы и другую полезную информацию (с автоматическим обновлением данных)
ps -eafw	отобразить запущенные процессы, используемые ими ресурсы и другую полезную информацию (единожды)
ps -e -o pid,args --forest	вывести PID'ы и процессы в виде дерева
pstree	отобразить дерево процессов
kill -9 98989	"убить" процесс с PID 98989 "на смерть" (без соблюдения целостности данных)
kill -KILL 98989
kill -TERM 98989	Корректно завершить процесс с PID 98989
kill -1 98989	заставить процесс с PID 98989 перепрочитать файл конфигурации
kill -HUP 98989
lsof -p 98989	отобразить список файлов, открытых процессом с PID 98989
lsof /home/user1	отобразить список открытых файлов из директории /home/user1
strace -c ls >/dev/null	вывести список системных вызовов, созданных и полученных процессом ls
strace -f -e open ls >/dev/null	вывести вызовы бибилотек
watch -n1 'cat /proc/interrupts'	отображать прерывания в режиме реального времени
last reboot	отобразить историю перезагрузок системы
last user1	отобразить историю регистрации пользователя user1 в системе и время его нахождения в ней
lsmod	вывести загруженные модули ядра
free -m	показать состояние оперативной памяти в мегабайтах
smartctl -A /dev/hda	контроль состояния жёсткого диска /dev/hda через SMART
smartctl -i /dev/hda	проверить доступность SMART на жёстком диске /dev/hda
tail /var/log/dmesg	вывести десять последних записей из журнала загрузки ядра
tail /var/log/messages	вывести десять последних записей из системного журнала
Другие полезные команды
apropos ...keyword	выводит список комманд, которые так или иначе относятся к ключевым словам. Полезно, когда вы знаете что делает программа, но не помните команду
man ping	вызов руководства по работе с программой, в данном случае, - ping
whatis ...keyword	отображает описание действий указанной программы
mkbootdisk --device /dev/fd0 `uname -r`	создаёт загрузочный флоппи-диск
gpg -c file1	шифрует файл file1 с помощью GNU Privacy Guard
gpg file1.gpg	дешифрует файл file1 с помощью GNU Privacy Guard
wget -r www.example.com	загружает рекурсивно содержимое сайта www.example.com
wget -c www.example.com/file.iso	загрузить файл www.example.com/file.iso с возможностью останова и продолжения в последствии
echo 'wget -c www.example.com/files.iso' | at 09:00	начать закачку в указанное время
ldd /usr/bin/ssh	вывести список библиотек, необходимых для работы ssh
alias hh='history'	назначить алиас hh команде history

                                                            Еще Команды

chown [ параметры ] [ файл ] – запуск этой команды суперпользователем позволит изменить владельца или группу владельцев какого-либо файла.

clear – очистка окна терминала.

cmp [ параметры ] [ файл1 ] [ файл2 ] – команда запускает утилиту для побайтного сравнения двух файлов.

comm [ параметры ] [ файл1 ] [ файл2 ] – эта команда позволяет сравнить два файла построчно.

compress [ параметры ] [ имя файла ] – команда для уменьшения размера указанного файла.

which [ приложение ] – команда показывает полный путь к исполняемому файлу того или иного приложения.

zip [ параметры ] [ файл ] – широко распространенная утилита для архивирования файлов.



# uname -a# Показать версию ядра Linux;
# lsb_release -a# На экран выводиться информация о версии операционной системы Debian и оснваных на ней дистрибутивах;
# cat /etc/SuSE-release# На экран выводится информация о версии операционной системы SuSE;
# man hier# Описание иерархии файловой системы (для чего нужна каждая директория в linux);
# clear# Очищение экрана терминала;
# wall Привет# Отправляет на терминалы других пользователей сообщение "Привет";
# date# Показывает текущую дату и время;
# cal -3# Показывает в удобной форме предыдущий, текущий и последующий месяц (типо календарь);
# uptime# Показать текущее время и работу системы без перезагрузки и выключения;
# hostname# Показать сетевое имя компьютера;
# whois linux.org# Показать информацию о доменом имени linux.org;
# export http_proxy=http://your.proxy:port# Изменить переменной окружения http_proxy, для использования интернета через proxy-сервер;
# wget http://itshaman.ru/images/logo_white.png# Скачать файл http://itshaman.ru/images/logo_white.png в текущую папку;
# wget --convert-links -r http://www.linux.org/# Копирование сайта целиком и конвертирование ссылок для автономной работы. Копирование происходит на 5 уровней в глубину;
# pppconfig# Создание и настройка Dial-Up соединения для выхода в Интернет по модему;
# pppoeconf# Создание и настройка выхода в Интернет через ADSL-модем;
# !!# Выполнить последнюю команду;
# history | tail -50# Показать последние 50 набранных команд;
# exit# Завершить сеанс текущего пользователя;
# passwd# Меняет пароль текущего пользователя;
# shutdown -h now# Выход из Linux;
# poweroff# Выход из Linux;
# reboot# Перезагрузка системы;
# last reboot# Cтатистика перезагрузок;
# winecfg# Настройка Wine - НЕэмулятор WinAPI;
# host itshaman.ru# Показывает IP-адрес введенного сайта;


Права доступа

# [sudo] chmod 0777 /home/# Изменение прав доступа к директории только для /home. 0777 – разрешение на чтение/запись/исполнение для всех групп;
# [sudo] chmod -R 0777 /home/# Рекурсивное изменение прав доступа к директории /home. 777 – разрешение на чтение/запись/исполнение для всех групп. Все вложенные директории и файлы будут иметь права 0777;
# [sudo] chown Mut@NT:ITShaman /home/primer.txt# Изменение владельца и группы только для файла /home/primer.txt;
# [sudo] chown -R Mut@NT /home/# Изменение владельца для всего содержимого директории /home;



Команды Linux: работа с архивами
# tar cf primer.tar /home/primer.txt# Создать tar-архив с именем primer.tar содержащий /home/primer.txt;
# tar czf primer.tar.gz /home/primer.txt# Cоздать tar-архив с сжатием Gzip по имени primer.tar.gz;
# tar cjf primer.tar.bz2 /home/primer.txt# Cоздать tar-архив с сжатием Bzip2 по имени primer.tar.bz;
# tar xf primer.tar# Распаковать архив primer.tar в текущую папку;
# tar xzf primer.tar.gz# Распаковать tar-архив с Gzip;
# tar xjf primer.tar.bz# Распаковать tar-архив с Bzip2;


Команды Linux: установка программ
Просмотр установленных пакетов

RPM - дистрибутивы
# rpm -qa# Показать список установленных пакетов RPM в системе;
DEB - дистрибутивы
# dpkg -l |more# Показать список установленных пакетов DEB в системе;
# apt-cache search имя пакета# Ищет в индексах наличее доступного пакета и выводит на экран краткую информацию о нужном пакете (очень полезная команда для поиска и установки программ из консоли);
# apt-cache showpkg имя пакета# Полная информация о указанном пакете;
4.2 Установка и удаление пакетовНаверх

RPM - дистрибутивы
# [sudo] rpm -i pkgname.rpm# Установка RPM пакета pkgname.rpm;
# [sudo] rpm -e pkgname# Удаление RPM пакета pkgname;
# [sudo] dpkg -i *.rpm# Установка всех пакетов в директории;
DEB - дистрибутивы
# [sudo] apt-get update# Обновление списка доступных пакетов из Internet;
# [sudo] apt-get upgrade# Обновление доступной версии установленных пакетов в системе;
# [sudo] apt-get install pkgname# Установка DEB пакета pkgname;
# [sudo] apt-get remove pkgname# Удаление DEB пакета pkgname;
# [sudo] dpkg -i *.deb# Установка всех пакетов в директории;



Команды Linux: мониторинг работы и просмотр логов
Команды Linux необходимые для мониторинга работы операционной системы. Все показания выводятся на экран в реальном времени. Число, стоящее после команды означает интервал между выводом информации.
# top# Информация в реальном времени о загруженных процессах, потребление ОЗУ;
# htop# Более расширенная on line-статистика о загруженных процессах (разработчик http://htop.sourceforge.net);
# dmesg# Показывает log-файл загрузки ОС и нахождения новых устройств;
# mpstat 1# Показывает расширенную статистику потребления ресурсов системы в процентах (для некоторых дистрибутивов необходима установка пакета sysstat);
# vmstat 2# Показать расширенную статистику по использованию виртуальной памяти;
# iostat 2# Показать расширенную статистику прерываний по устройствам;


Команды Linux: информация об устройствах
# lsdev# информация об уже установленных устройствах (в некоторых дистрибутивах требует доставить пакет procinfo);
# cat /proc/cpuinfo# Показать полную информацию о модели процессора (частота, поддерживаемые инструкции и т.д.);
# cat /proc/meminfo# Показать расширенную информацию о занимаемой оперативной памяти (MemTotal, MemFree, Buffers, Cached, SwapCached,HighTotal, HighFree, LowTotal и т. д.);
# grep SwapTotal /proc/meminfo# Показать размер раздела выделенного под swap;
# watch -n1 'cat /proc/interrupts'# Показать информацию о прерываниях;
# free -m# Информация о используемой и свободной ОЗУ и Swap-файле (-m указывает, что отображать нужно в Мб);
# lshal# Показать список всех устройств и их параметров;
# cat /proc/devices# Показать все устройства в системе (названия взяты из директории /proc/devices);
# lspci -tv# Показать обнаруженные PCI-устройства;
# lsusb -tv# Показать обнаруженные USB-устройства;
# [sudo] dmidecode# Показать информацию о версии BIOS компьютера;
# gtf 1024 768 75# Выводит строку ModeLine для Вашего монитора на параметрах экрана 1024x768x75Hz;


Команды Linux: жесткие диски и файловая система.
Информация о файловой системе и жестком диске

# fdisk -l# Информация о всех подключенных жестких и сменных дисках;
# [sudo] hdparm -I /dev/sda# Полная информация о IDE/ATA жестких дисках;
# smartctl -a /dev/sda1# Выводит SMART-информацию о разделе жесткого диска /dev/sda1 (необходима установка пакета smartmontools);
# [sudo] blkid# Выводит UUID всех доступных накопителей информации в системе;


 Производительность жесткого диска

# [sudo] hdparm -tT /dev/sda# Показывает производительность жесткого диска;

Монтирование разделов жесткого дискаНаверх

# mount | column -t# Показывает полную информацию о примонтированных устройсвах;
# cat /proc/partitions# Показывает только примонтированные разделы жесткого диска;
# df# Показывает свободное место на разделах;
# [sudo] mount /dev/sda1 /mnt# Монтирует раздел /dev/sda1 к точке монтирования /mnt;
# [sudo] mount -t auto /dev/cdrom /mnt/cdrom# Монтирует большинство CD-ROM`ов;
# [sudo] mount /dev/hdc -t iso9660 -r /cdrom# Монтирует IDE CD-ROM;
# [sudo] mount /dev/scd0 -t iso9660 -r /cdrom# Монтирует SCSI CD-ROM;
# [sudo] mount -t ufs -o ufstype=ufs2,ro /dev/sda3 /mnt# Монтирование FreeBSD разделов в Linux;
# [sudo] mount -t smbfs -o username=vasja,password=pupkin //pup/Video# Монтирование сетевых ресурсов (SMB);
# [sudo] mount -t iso9660 -o loop /home/file.iso /home/iso# Монтирование ISO-образов;
# [sudo] mount /dev/sdb1 -t vfat -o rw /mnt# Монтирование раздел с файловой системой FAT 16/32 (к примеру USB-накопитель) к точки монтирования /mnt с возможностью записи;
# [sudo] umount /mnt# Отмонтирует раздел от точки монтирования /mnt;
Команды Linux: настройка сети.
Конфигурация сети

# ifconfig# Показать параметры всех сетевых;
# ifconfig eth0# Показать параметры сетевого интерфейса eth0;
# [sudo] ethtool eth0# Показывает состояние сетевого интерфейса eth0 (для некоторых дистрибутивов требуется установка пакета ethtool). Команда ethtool применяется только для проводных подключений, не работает с беспроводными интерфейсами;
# [sudo] ethtool -s eth0 speed 100 duplex full autoneg off# Принудительно задать скорость сетевому интерфейсу 100Mbit и режим Full duplex и отключить автоматическое определение;
# ifconfig eth0 192.168.50.254 netmask 255.255.255.0# Задать основной IP адрес сетевому интерфейсу eth0;
# ip addr add 192.168.50.254/24 dev eth0# Задать основной IP адрес сетевому интерфейсу eth0;
# ifconfig eth0:0 192.168.51.254 netmask 255.255.255.0# Задать дополнительный IP адрес сетевому интерфейсу eth0;
# ip addr add 192.168.51.254/24 dev eth0 label eth0:1# Задать дополнительный IP адрес сетевому интерфейсу eth0;
# [sudo] ifconfig eth0 up# Запустить сетевой интерфейс eth0;
# [sudo] ifconfig eth0 down# Отключить сетевой интерфейс eth0;
# ifconfig eth0 hw ether 00:01:02:03:04:05# Смена MAC адреса;
# [sudo] /etc/init.d/dhcpd restart# Перезагрузка DHCP клиента;
# ping 192.168.0.2# Проверка сетевого соединения. Пингуется IP адрес 192.168.0.2 (пинговать можно ya.ru);
Маршрутизация

# route -n# Выводит на экран таблицу маршрутизации;
# netstat -rn# Выводит на экран таблицу маршрутизации;
8.3 Управление портами (брандмауэр)

# netstat -an | grep LISTEN# Показывает список всех открытых портов;
# lsof -i# Показывает список всех открытых портов в сеть Internet;
# [sudo] netstat -tup# Активные соединения с интернетом;
# socklist# Показывает все открытые сокеты;
# [sudo] netstat -anp --udp --tcp | grep LISTEN# Список приложений, которые открывают порты;
# [sudo] iptables -L -n -v# Показывает статус firewall (статус iptables);
# [sudo] iptables -P INPUT ACCEPT# Открывает доступ ко всем портам;
# [sudo] iptables -P FORWARD ACCEPT# Открывает доступ ко всем портам;
# [sudo] iptables -P OUTPUT ACCEPT# Открывает доступ ко всем портам;
# [sudo] iptables -X# Удаляет все цепочки;
Управление NAT

# [sudo] iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE# "Поднятие" NAT на интерфейсе eth0;
# [sudo] iptables -t nat -A PREROUTING -p tcp -d 78.31.70.238 --dport 20022 -j DNAT --to 192.168.16.44:22# Перенаправление порта 20022, который использется для ssh;
# [sudo] iptables -t nat -A PREROUTING -p tcp -d 78.31.70.238 --dport 993:995 -j DNAT --to 192.168.16.254:993-995# Перенаправление диапазона портов 993-995;
# iptables -L -t nat# Проверка статуса NAT;

 Команды Linux: создание и запись ISO образов

# cdrecord -scanbus# Показывает все доступные CD-ROM;
# dd if=/dev/hdc of=/tmp/mycd.iso bs=2048 conv=notrunc#Создание ISO образов с диска CD-ROM;

Команды Linux: пользователи и группы

Команды Linux необходимые для работы с пользователями и группами пользователей.
# id# Показывает сводную информацию по текущему пользователю (логин, UID, GID, группы);
# finger Mut@NT# Показать информацию о пользователе Mut@NT;
# last# Показывает последних зарегистрированных пользователей;
# who# Показывает имя текущего пользователя и время входа;
# useradd Mut@NT# Добавление нового пользователя Mut@NT;
# groupadd ITShaman# Добавление группы ITShaman;
# usermod -a -G ITShaman Mut@NT # Добавляет пользователя Mut@NT в группу ITShaman (для Debian-подобных дистрибутивов);
groupmod -A Mut@NT ITShaman# Добавляет пользователя Mut@NT в группу ITShaman (SuSE);
# userdel Mut@NT# Удаление пользователя Mut@NT;
# groupdel ITShaman# Удаление группы ITShaman;

Команды Linux: работа с процессами

Все запущенные процессы имеют уникальные номера - PID.
# ps axjf# Показать все загруженные процессы;
# pgrep -l sshd# Показать PID определенного процесса – sshd;
# echo $$# Показать PID вашей оболочки;
# fuser -va 22/tcp# Показать PID процесса использующий порт 22;
# fuser -va /home# Показывает PID процесса имеющего доступ к /home;
# lsof /home# Показывает список процессы, которые используют /home;
# killall 0 httpd# Выводит на экран текущее состояние процесса httpd;
# kil 4712# «Убить» процесс с PID 4712;
# [sudo] killall TERM 4712# Посылает процессу с PID`ом 4712 сигнал TERM - завершить процесс;
# [sudo] killall HUP httpd# Посылает процессу с именем httpd сигнал HUP - остановить процесс;
# [sudo] fuser -k -TERM -m /home# “Убить” все процессы имеющие доступ к /home;

Важные сигналы посылаемые процессам:

1 - HUP остановить процесс
2 - INT прервать процесс
3 - QUIT выйти
9 - KILL “убить” процесс
15 - TERM завершить процесс
12. Команды Linux: Runlevels.Наверх

После загрузки ядра Linux начинают загружаться различные демоны и программы, такие как NetworkManager, Evolution и т. д., результат которых мы видим у себя после загрузки на рабочем столе. Загрузка каждой службы осуществляется скриптом. Все скрипты лежат в /etc/init.d.
Runlevels – это целое число, которое определяет “уровень загрузки”.
“Уровни загрузки” бывают:
Runlevels=0 Выключение компьютера;
Runlevels=1 режим Single-User;
Runlevels=2 Текстовый режим без поддержки сети;
Runlevels=3 Текстовый режим с поддержкой сети;
Runlevels=4;
Runlevels=5 Графический режим;
Runlevels=6 Перезагрузка компьютера.
То есть скрипты, которые должны загружаться только в текстовом режиме с поддержкой сети, имеют Runlevels равный 3.
Более простой вариант настройки:
# [sudo] sysv-rc-conf#Очень удобная настройка Runlevels (необходима установка пакета sysv-rc-conf);
Ручной вариант настройки:
# chkconfig --list# Показывает список всех скриптов с соответствующими им Runlevels;
# chkconfig --list udev# Показывает разрешенные Runlevels только отдельного скрипта, в нашем случае udev;
# [sudo] update-rc.d udev defaults# Выставление скрипту udev значений Runlevels по-умолчанию (для Debian-подобных дистрибутивов);
# [sudo] chkconfig udev --level 35 on# Добавление скрипту udev Runlevels 3 и 5;
# [sudo] update-rc.d udev start 20 2 3 4 5 . stop 20 0 1 6# Изменить параметры для скрипта udev (для Debian-подобных дистрибутивов);
# [sudo] chkconfig udev off# Отключение у udev всех Runlevels;
# [sudo] update-rc.d -f udev remove# Отключение у udev всех Runlevel (для Debian-подобных дистрибутивов);

Команды Linux: Работа с ядром и модулями Работа с ядром системы

# uname -a# Показать версию ядра Linux;

 Работа с модулями ядра

# lsmod# Список всех модулей загруженных в ядро;
# [sudo] modprobe isdn# Загрузка модуля на примере isdn;
# make# Создание сжатого образа ядра системы;
# make modules# Компиляция модуля;
# [sudo] make modules_install# Установка модуля;
# [sudo] make install# Установка в ядро системы;

Команды Linux: работа с LiveCD

# [sudo] chroot /mnt# смена root-окружения на /mnt. После этого коневой раздел, примонтировнный к /mnt, будет использоваться как родной;

Команды Linux: конвертирование различной информации;
1Конвертирование текста

# iconv -l# Выводит список всех доступных кодировок;
# iconv -f cp1251 -t UTF-8 -o file_cp1251.txt > file_utf8.txt# Смена кодировки. Был файл file_cp1251.txt с кодировкой cp1251, а в итоге получился файл file_utf8.txt с кодировкой utf8;

Конвертирование PDF в JPEG

# convert name.pdf name-%03d.jpg# Конвертируется name.pdf в постраничные JPEG изображения (в некоторых дистрибутивах необходимо установить пакет imagemagick);
# convert *.jpeg name.pdf# Конвертируются JPEG изображения в PDF (в некоторых дистрибутивах необходимо установить пакет imagemagick);

 Конвертирование видео

# mencoder -o videoout.avi -oac mp3lame -ovc lavc -srate 11025 -channels 1 -af-adv force=1 -lameopts preset=medium -lavcopts vcodec=msmpeg4v2:vbitrate=600 -mc 0 vidoein.AVI

Конвертирование аудио

# cdparanoia -B# Копирование треков с AudioCD в текущую директорию wav-файлами;
# lame -b 256 in.wav out.mp3# Конвертирование wav-файлов в mp3 с качеством 256 kb/s;
# oggenc in.wav -b 256 out.ogg# Конвертирование wav-файлов в Ogg Vorbis с качеством 256 kb/s;

Команды Linux: печать на принтере

# export PRINTER=lbp2900# Выбор принтера по-умолчанию. В примере выбран принтер Canon LBP-2900;
# lpr #2 name.txt# Распечатать на принтере Canon LBP-2900 две копии файла name.txt;
# lprm -# Удаление всех задач с принтера по-умолчанию;



